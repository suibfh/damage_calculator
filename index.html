<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brave Frontier Heroes ダメージ計算ツール 改 Ver.4</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>Brave Frontier Heroes ダメージ計算ツール</h1>

    <div class="button-group main-actions">
        <button class="js-action-btn" data-action="manageForms">フォーム管理</button>
        <button class="js-action-btn" data-action="resetForm">フォームリセット</button>
    </div>

    <h2>入力フォーム</h2>
    <div id="inputForm" class="form-container">
        <div class="form-section">
            <h3>ステータス</h3>
            <div class="form-group">
                <label for="fieldname2">攻撃</label>
                <div class="input-wrapper status-input-wrapper">
                    <input type="number" id="fieldname2" data-field="fieldname2" placeholder="スフィア込み">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname2" data-step="-1000" tabindex="-1">-1k</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="-100" tabindex="-1">-100</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="-10" tabindex="-1">-10</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="-1" tabindex="-1">-1</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="1" tabindex="-1">+1</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="10" tabindex="-1">+10</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="100" tabindex="-1">+100</button>
                        <button class="pm-btn" data-target="fieldname2" data-step="1000" tabindex="-1">+1k</button>
                    </div>
                </div>
                <span class="note">スフィア込み</span>
            </div>
            <div class="form-group">
                <label for="fieldname3">魔攻</label>
                <div class="input-wrapper status-input-wrapper">
                    <input type="number" id="fieldname3" data-field="fieldname3" placeholder="スフィア込み">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname3" data-step="-1000" tabindex="-1">-1k</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="-100" tabindex="-1">-100</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="-10" tabindex="-1">-10</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="-1" tabindex="-1">-1</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="1" tabindex="-1">+1</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="10" tabindex="-1">+10</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="100" tabindex="-1">+100</button>
                        <button class="pm-btn" data-target="fieldname3" data-step="1000" tabindex="-1">+1k</button>
                    </div>
                </div>
                <span class="note">スフィア込み</span>
            </div>
            <div class="form-group">
                <label for="fieldname4">防御</label>
                <div class="input-wrapper status-input-wrapper">
                    <input type="number" id="fieldname4" data-field="fieldname4" placeholder="スフィア込み">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname4" data-step="-1000" tabindex="-1">-1k</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="-100" tabindex="-1">-100</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="-10" tabindex="-1">-10</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="-1" tabindex="-1">-1</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="1" tabindex="-1">+1</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="10" tabindex="-1">+10</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="100" tabindex="-1">+100</button>
                        <button class="pm-btn" data-target="fieldname4" data-step="1000" tabindex="-1">+1k</button>
                    </div>
                </div>
                <span class="note">スフィア込み</span>
            </div>
            <div class="form-group">
                <label for="fieldname5">魔防</label>
                <div class="input-wrapper status-input-wrapper">
                    <input type="number" id="fieldname5" data-field="fieldname5" placeholder="スフィア込み">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname5" data-step="-1000" tabindex="-1">-1k</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="-100" tabindex="-1">-100</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="-10" tabindex="-1">-10</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="-1" tabindex="-1">-1</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="1" tabindex="-1">+1</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="10" tabindex="-1">+10</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="100" tabindex="-1">+100</button>
                        <button class="pm-btn" data-target="fieldname5" data-step="1000" tabindex="-1">+1k</button>
                    </div>
                </div>
                <span class="note">スフィア込み</span>
            </div>
        </div>

        <div class="form-section">
            <h3>バフ・デバフ (%)</h3>
            <div class="form-group">
                <label for="fieldname6">攻撃バフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname6" data-field="fieldname6" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname6" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname6" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname6" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname6" data-value="10" tabindex="-1">10</button>
                    <button class="buff-btn" data-target="fieldname6" data-value="20" tabindex="-1">20</button>
                    <button class="buff-btn" data-target="fieldname6" data-value="30" tabindex="-1">30</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname7">魔攻バフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname7" data-field="fieldname7" value="0">
                     <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname7" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname7" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname7" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname7" data-value="10" tabindex="-1">10</button>
                    <button class="buff-btn" data-target="fieldname7" data-value="20" tabindex="-1">20</button>
                    <button class="buff-btn" data-target="fieldname7" data-value="30" tabindex="-1">30</button>
                </div>
            </div>
             <div class="form-group">
                <label for="fieldname10">攻撃デバフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname10" data-field="fieldname10" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname10" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname10" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                 <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname10" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname10" data-value="30" tabindex="-1">30(怪我)</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname11">魔攻デバフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname11" data-field="fieldname11" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname11" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname11" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                 <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname11" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname11" data-value="30" tabindex="-1">30(雑念)</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname8">防御バフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname8" data-field="fieldname8" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname8" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname8" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname8" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname8" data-value="20" tabindex="-1">20</button>
                    <button class="buff-btn" data-target="fieldname8" data-value="30" tabindex="-1">30</button>
                    <button class="buff-btn" data-target="fieldname8" data-value="40" tabindex="-1">40</button>
                    <button class="buff-btn" data-target="fieldname8" data-value="50" tabindex="-1">50</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname9">魔防バフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname9" data-field="fieldname9" value="0">
                     <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname9" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname9" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname9" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname9" data-value="20" tabindex="-1">20</button>
                    <button class="buff-btn" data-target="fieldname9" data-value="30" tabindex="-1">30</button>
                    <button class="buff-btn" data-target="fieldname9" data-value="40" tabindex="-1">40</button>
                    <button class="buff-btn" data-target="fieldname9" data-value="50" tabindex="-1">50</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname12">防御デバフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname12" data-field="fieldname12" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname12" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname12" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                 <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname12" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname12" data-value="30" tabindex="-1">30(弱体)</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname13">魔防デバフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname13" data-field="fieldname13" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname13" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname13" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                 <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname13" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname13" data-value="30" tabindex="-1">30(虚脱)</button>
                </div>
            </div>
            <div class="form-group">
                <label for="fieldname20">BBダメージUPバフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname20" data-field="fieldname20" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname20" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname20" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname20" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname20" data-value="25" tabindex="-1">25</button>
                    <button class="buff-btn" data-target="fieldname20" data-value="30" tabindex="-1">30</button>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h3>倍率・属性・その他</h3>
            <div class="form-group">
                <label for="fieldname14">攻撃倍率</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname14" data-field="fieldname14" value="100">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname14" data-step="-10" tabindex="-1">-10</button>
                        <button class="pm-btn" data-target="fieldname14" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname14" data-step="5" tabindex="-1">+5</button>
                        <button class="pm-btn" data-target="fieldname14" data-step="10" tabindex="-1">+10</button>
                    </div>
                </div>
                <span class="note">デフォルト100</span>
            </div>
            <div class="form-group">
                <label for="fieldname15">魔攻倍率</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname15" data-field="fieldname15" value="100">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname15" data-step="-10" tabindex="-1">-10</button>
                        <button class="pm-btn" data-target="fieldname15" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname15" data-step="5" tabindex="-1">+5</button>
                        <button class="pm-btn" data-target="fieldname15" data-step="10" tabindex="-1">+10</button>
                    </div>
                </div>
                <span class="note">デフォルト100</span>
            </div>

            <div class="form-group">
                <label>属性相性</label>
                <div class="input-wrapper radio-button-group" data-radio-group-field="fieldname22">
                    <button type="button" class="btn-radio active" data-value="1" tabindex="-1">通常 (1.0)</button>
                    <button type="button" class="btn-radio" data-value="1.3" tabindex="-1">有利 (1.3)</button>
                </div>
                <input type="hidden" id="fieldname22" data-field="fieldname22" value="1">
            </div>

            <div class="form-group">
                <label for="fieldname18">弱点属性ダメUPバフ</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname18" data-field="fieldname18" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname18" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname18" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <div class="buff-buttons">
                    <button class="buff-btn" data-target="fieldname18" data-value="0" tabindex="-1">0</button>
                    <button class="buff-btn" data-target="fieldname18" data-value="10" tabindex="-1">10</button>
                </div>
            </div>
            <div class="form-group">
                <label>弱点属性ダメ軽減</label>
                <div class="input-wrapper radio-button-group" data-radio-group-field="fieldname17">
                    <button type="button" class="btn-radio active" data-value="0" tabindex="-1">0</button>
                    <button type="button" class="btn-radio" data-value="5" tabindex="-1">5</button>
                </div>
                <input type="hidden" id="fieldname17" data-field="fieldname17" value="0">
            </div>
            <div class="form-group">
                <label for="fieldname16">属性軽減(スキル)</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname16" data-field="fieldname16" value="0">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname16" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname16" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>属性軽減(特性)</label>
                <div class="input-wrapper radio-button-group" data-radio-group-field="fieldname50">
                    <button type="button" class="btn-radio active" data-value="0" tabindex="-1">なし (0)</button>
                    <button type="button" class="btn-radio" data-value="5" tabindex="-1">あり (5)</button>
                </div>
                <input type="hidden" id="fieldname50" data-field="fieldname50" value="0">
            </div>
            <div class="form-group">
                <label>被状態異常ダメUP(特性)</label>
                <div class="input-wrapper radio-button-group" data-radio-group-field="fieldname19">
                    <button type="button" class="btn-radio active" data-value="0" tabindex="-1">なし (0)</button>
                    <button type="button" class="btn-radio" data-value="5" tabindex="-1">あり (5)</button>
                </div>
                <input type="hidden" id="fieldname19" data-field="fieldname19" value="0">
            </div>
            <div class="form-group">
                <label for="fieldname29">全体BB発動HP残量 (%)</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname29" data-field="fieldname29" value="30">
                    <div class="pm-buttons">
                        <button class="pm-btn" data-target="fieldname29" data-step="-5" tabindex="-1">-5</button>
                        <button class="pm-btn" data-target="fieldname29" data-step="5" tabindex="-1">+5</button>
                    </div>
                </div>
                <span class="note">デフォルト30% (このHP以下で発動)</span>
            </div>
             <div class="form-group">
                <label for="fieldname41">最大HP</label>
                <div class="input-wrapper">
                    <input type="number" id="fieldname41" data-field="fieldname41" placeholder="ダメージ割合計算用">
                </div>
                <span class="note">ダメージ割合計算用</span>
            </div>
        </div>
    </div>

    <h2>計算結果</h2>
    <div class="results-grid">
        <div class="result-item">
            <strong>攻撃ダメージ:</strong>
            <span id="result_fieldname37">0</span>
        </div>
        <div class="result-item">
            <strong>魔攻ダメージ:</strong>
            <span id="result_fieldname38">0</span>
        </div>
        <div class="result-item">
            <strong>総合ダメージ:</strong>
            <span id="result_fieldname1">0</span>
        </div>
        <div class="result-item">
            <strong>HP上限目安 (全体BB発動用):</strong>
            <span id="result_fieldname30">0</span>
        </div>
        <div class="result-item">
            <strong>ダメージ割合 (%):</strong>
            <span id="result_fieldname42">0</span>
        </div>
    </div>
</div>

<div id="formModal" class="modal">
    <div class="modal-content">
        <span class="close-button js-action-btn" data-action="closeFormModal">&times;</span>
        <h2>フォーム管理</h2>
        <div class="modal-form-group">
            <label for="formNameInput">フォーム名:</label>
            <input type="text" id="formNameInput" placeholder="保存する名前を入力">
        </div>
        <button id="saveFormBtn">現在の入力内容を保存/更新</button>
        
        <h3 style="margin-top: 20px;">保存済みフォーム</h3>
        <div class="form-actions">
            <select id="formList"></select>
            <button id="loadFormBtn">読込</button>
            <button id="deleteFormBtn" class="danger-btn">削除</button>
        </div>
    </div>
</div>

<script src="script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.9/iframeResizer.contentWindow.min.js" integrity="sha512-mdT/HQRzoRP4laVz49Mndx6rcCGA3IhuyhP3gaY0E9sZPkwbtDk9ttQIq9o8qGCf5VvJv1Xsy3k2yTjfUoczqw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
